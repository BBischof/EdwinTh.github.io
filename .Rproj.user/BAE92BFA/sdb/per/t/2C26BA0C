{
    "collab_server" : "",
    "contents" : "\n\nfilenamise <- function (x, sep_char = \"_\", ext = \"\")\n{\n  paste0(gsub(paste0(sep_char, \"$|^\", sep_char), \"\", gsub(paste0(sep_char,\n\n                                                                 \"+\"), sep_char, gsub(\"[[:space:]]|[[:punct:]]\", sep_char,\n                                                                                      tolower(x)))), ext)}\n# kudos to Brendan Rocks who built this function\n# https://github.com/brendan-r/brocks/blob/master/R/blog_stuff.R\n# copied it to adjust it to my own taste\n\nnew_post <- function (title = \"new post\",\n          serve = TRUE,\n          dir = \"_source\",\n          subdir = TRUE,\n          skeleton_file = \".skeleton_post\")\n  library(brocks)\n{\n  if (!dir.exists(dir)) {\n    stop(\"The directory '\", dir, \"' doesn't exist. Are you running R in\\n         the right directory?\")\n  }\n  fname <- filenamise(title, sep_char = \"-\")\n  if (subdir) {\n    fpath <- file.path(dir, fname)\n    dir.create(fpath)\n  }\n  else {\n    fpath <- dir\n  }\n\n  rmd_name <- file.path(fpath,\n                        paste0(Sys.Date(), \"-\", fname, \".Rmd\"))\n\n  if (!file.exists(skeleton_file)) {\n    message(\"File .skeleton_post does not exist. Using package default\")\n    skeleton_file <- system.file(\"skeleton_post.Rmd\", package = \"brocks\")\n  }\n\n  post <- c(\n    \"---\",\n    \"layout: post\",\n    \"categories: blog\",\n    paste('title:', title),\n    \"date: \\\"`r Sys.time()`\\\"\",\n    \"---\"\n  )\n\n  writeLines(post, rmd_name)\n  sys_open(rmd_name)\n  if (serve)\n    blog_serve()\n}\n\nrun_jekyll <- function() {\n  servr::jekyll(dir = \"/Users/edwinthoen/Documents/Site\",\n                input   =  c(\".\", list.dirs(\"_source\")),\n                output  =  c(\".\", rep(\"_posts/blog\", length(list.dirs(\"_source\")))),\n                command = 'bundle exec jekyll build')\n}\n\nnew_post(\"tmp\")\n\n",
    "created" : 1480194137808.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4130371256",
    "id" : "2C26BA0C",
    "lastKnownWriteTime" : 1470856858,
    "last_content_update" : 1470856858,
    "path" : "~/Documents/Site/blog_helpers.R",
    "project_path" : "blog_helpers.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}